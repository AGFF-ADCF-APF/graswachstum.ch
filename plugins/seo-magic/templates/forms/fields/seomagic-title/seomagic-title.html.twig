{% extends "forms/fields/text/text.html.twig" %}

{% block group %}
{{ parent() }}
{% set autogenerated = seomagic_title() %}
<div class="seomagic-title">
  {% if field.source == 'opengraph' %}
    <div class="seo-msg">
      <div class="seomagic-label">{{ 'PLUGIN_SEOMAGIC.CURRENT_OPENGRAPH'|tu }}:</div>
      <div>{{ attribute(seomagic_metadata, 'og:title') }}</div>
    </div>
  {% elseif field.source == 'metadata' %}
    <div class="seo-msg">
      <div class="seomagic-label">{{ 'PLUGIN_SEOMAGIC.CURRENT_METADATA'|tu }}:</div>
      <div>{{ attribute(seomagic_metadata, 'title') }}</div>
    </div>
  {% elseif autogenerated %}
    <div class="seo-msg">
      <div class="seomagic-label">{{ 'PLUGIN_SEOMAGIC.AUTO_GENERATED'|tu }}:</div>
      <div>{{ autogenerated }}</div>
    </div>
  {% endif %}
</div>
<div class="seomagic-ai-tools">
  <button type="button" class="button seomagic-ai" data-purpose="title">AI: Suggest Title</button>
  <textarea class="seomagic-body" style="display:none">{{ seomagic_body }}</textarea>
  <small class="muted">Uses AI‑Pro default provider to suggest an SEO title (≤ 60 chars)</small>
</div>
{% endblock %}
