{% extends "forms/fields/textarea/textarea.html.twig" %}

{% block group %}
{{ parent() }}
{% set autogenerated = seomagic_description() %}
<div class="seomagic-title">
  {% if field.source == 'opengraph' %}
    <div class="seo-msg">
      <div class="seomagic-label">{{ 'PLUGIN_SEOMAGIC.CURRENT_OPENGRAPH'|tu }}:</div>
      <div>{{ attribute(seomagic_metadata, 'og:description') }}</div>
    </div>
  {% elseif field.source == 'metadata' %}
    <div class="seo-msg">
      <div class="seomagic-label">{{ 'PLUGIN_SEOMAGIC.CURRENT_METADATA'|tu }}:</div>
      <div>{{ attribute(seomagic_metadata, 'description') }}</div>
    </div>
  {% elseif autogenerated %}
    <div class="seo-msg">
      <div class="seomagic-label">{{ 'PLUGIN_SEOMAGIC.AUTO_GENERATED'|tu }}:</div>
      <div>{{ autogenerated }}</div>
    </div>
  {% endif %}
</div>
<div class="seomagic-ai-tools">
  <button type="button" class="button seomagic-ai" data-purpose="description">AI: Suggest Description</button>
  <textarea class="seomagic-body" style="display:none">{{ seomagic_body }}</textarea>
  <small class="muted">Suggests a meta description (140â€“160 chars)</small>
</div>
{% endblock %}
